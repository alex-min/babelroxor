#include "audioslot.h"

AudioSlot::AudioSlot()
{
//    _pa.init();
//    _pa.setOutput();
}

void AudioSlot::onCall(Network *network, const std::string &login, void *data, unsigned int len, Protocol::NetworkPacket::NetworkHeader *header)
{
//    ici on lance le play()
 //   _pa.setFrames(//faire le decode de data
   //               );
//    _pa.play();

//    _s.decoder = new DecoderSpeex;
//    _s.encoder = new EncoderSpeex(5);
//    _s.buf = (char*)data;
//    _s.size_encoded = strlen(_s.buf);
//    _s.state = true;
//    if (_dec.good())
//    {
//            _dec.setCallback(PortaudioWrapper::SpeexToSpeaker);
//            _dec.openStream(0, 1, &_s, paInt16, _s.encoder->Rate(), _s.encoder->FrameSize());
//            if (_dec.good())
//            {
//              _dec.start();
//              _dec.stop();
//            }
//    }

//    return ;
}
